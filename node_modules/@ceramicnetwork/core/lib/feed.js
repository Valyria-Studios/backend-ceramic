import { Subject } from 'rxjs';
import { StreamUtils } from '@ceramicnetwork/common';
export class FeedDocument {
    constructor(commitId, content, metadata, eventType) {
        this.commitId = commitId;
        this.content = content;
        this.metadata = metadata;
        this.eventType = eventType;
    }
    static fromStreamState(streamState) {
        return {
            commitId: StreamUtils.commitIdFromStreamState(streamState),
            content: streamState.next ? streamState.next.content : streamState.content,
            metadata: streamState.next ? streamState.next.metadata : streamState.metadata,
            eventType: streamState.log[streamState.log.length - 1].type,
        };
    }
}
class DocumentsSubject extends Subject {
}
export class Feed {
    constructor() {
        this.aggregation = {
            documents: new DocumentsSubject(),
        };
    }
}
//# sourceMappingURL=feed.js.map