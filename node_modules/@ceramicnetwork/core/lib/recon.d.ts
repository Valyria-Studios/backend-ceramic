import { type CAR } from 'cartonne';
import { Observable } from 'rxjs';
import { DiagnosticsLogger, FetchRequest, AbortOptions } from '@ceramicnetwork/common';
import { EventID, StreamID } from '@ceramicnetwork/streamid';
export declare type ReconApiConfig = {
    enabled: boolean;
    url: string | Promise<string>;
    feedEnabled: boolean;
};
export interface ReconEvent {
    id: EventID;
    data: CAR;
}
export interface ReconEventFeedResponse {
    events: Array<ReconEvent>;
    cursor: number;
}
export interface IReconApi extends Observable<ReconEventFeedResponse> {
    init(initialCursor?: number): Promise<void>;
    registerInterest(model: StreamID): Promise<void>;
    put(event: ReconEvent, opts?: AbortOptions): Promise<void>;
    enabled: boolean;
    stop(): void;
}
export declare class ReconApi extends Observable<ReconEventFeedResponse> implements IReconApi {
    #private;
    private readonly feed$;
    constructor(config: ReconApiConfig, logger: DiagnosticsLogger, sendRequest?: FetchRequest, pollInterval?: number);
    init(initialCursor?: number): Promise<void>;
    registerInterest(model: StreamID): Promise<void>;
    put(event: ReconEvent, opts: AbortOptions): Promise<void>;
    get enabled(): boolean;
    stop(): void;
    private createSubscription;
}
//# sourceMappingURL=recon.d.ts.map